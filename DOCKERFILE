# Base image
FROM node:16-alpine

# Set working directory for the server
WORKDIR /app/server
COPY server/package.json server/package-lock.json ./
RUN npm install

# Set working directory for the client
WORKDIR /app/client
COPY client/package.json client/package-lock.json ./
RUN npm install

# Copy the rest of the code
WORKDIR /app
COPY . .

# Default command (adjust based on your app)
CMD ["npm", "start"]
